<!DOCTYPE html>
<html layout:decorate="~{layout}">
  <head></head>

  <body>
    <div
      class="container d-flex flex-column align-items-center mt-4"
      layout:fragment="corpo"
    >
      <h3 class="text-center mb-4">
        <span
          th:text="${type == 'PROFISSIONAL'} ? 'Cadastrar Profissional' : 'Atualizar Profissional'"
        ></span>
      </h3>
      <div class="">
        <p th:if="${type == 'PROFISSIONAL'}">
          Gostaria de anunciar uma vaga?
          <a th:href="@{/cadastrar/empresas}" class="link-primary">
            Clique aqui
          </a>
          e cadastre sua empresa.
        </p>
        <p th:if="${type == 'EMPRESA'}">
          Gostaria de se candidatar a uma vaga?
          <a th:href="@{/cadastrar}" class="link-primary">Clique aqui</a>
          e cadastre-se como profissional.
        </p>
      </div>
      <form
        th:action="${type == 'PROFISSIONAL'} ? @{/salvar} : @{/salvar/empresas}"
        method="post"
        th:object="${usuario}"
        class="w-50"
      >
        <div class="w-100 mt-4">
          <div class="row mb-3">
            <div class="col">
              <label for="nome" class="form-label">Nome</label>
              <input
                type="text"
                class="form-control"
                id="nome"
                th:field="*{nome}"
                th:classappend="${#fields.hasErrors('nome')} ? 'is-invalid' : ''"
              />
              <div class="invalid-feedback">
                <span th:errors="*{nome}"></span>
              </div>
            </div>
            <div class="col" th:if="${type == 'PROFISSIONAL'}">
              <label for="cpf" class="form-label">CPF</label>
              <input
                type="text"
                class="form-control"
                id="cpf"
                th:field="*{cpf}"
                th:classappend="${#fields.hasErrors('cpf')} ? 'is-invalid' : ''"
                data-mask="000.000.000-00"
                data-mask-reverse="true"
              />
              <div class="invalid-feedback">
                <span th:errors="*{cpf}"></span>
              </div>
            </div>
            <div class="col" th:if="${type == 'EMPRESA'}">
              <label for="cnpj" class="form-label">CNPJ</label>
              <input
                type="text"
                class="form-control"
                id="cnpj"
                th:field="*{cnpj}"
                th:classappend="${#fields.hasErrors('cnpj')} ? 'is-invalid' : ''"
                data-mask="00.000.000/0000-00"
                data-mask-reverse="true"
              />
              <div class="invalid-feedback">
                <span th:errors="*{cnpj}"></span>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <label for="email" class="form-label">Email</label>
              <input
                type="email"
                class="form-control"
                id="email"
                aria-describedby="emailHelp"
                th:field="*{email}"
                th:classappend="${#fields.hasErrors('email')} ? 'is-invalid' : ''"
              />
              <div class="invalid-feedback">
                <span th:errors="*{email}"></span>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <label for="senha" class="form-label">Senha</label>
              <input
                type="password"
                class="form-control"
                id="senha"
                aria-describedby="senhaHelp"
                th:field="*{senha}"
                th:classappend="${#fields.hasErrors('senha')} ? 'is-invalid' : ''"
              />
              <div class="invalid-feedback">
                <span th:errors="*{senha}"></span>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col" th:if="${type == 'PROFISSIONAL'}">
              <label for="sexo" class="form-label">Sexo</label>
              <select
                class="form-select"
                id="sexo"
                th:field="*{sexo}"
                th:classappend="${#fields.hasErrors('sexo')} ? 'is-invalid' : ''"
              >
                <option value="" disabled selected>Selecione o sexo</option>
                <option value="MASCULINO">Masculino</option>
                <option value="FEMININO">Feminino</option>
                <option value="OUTRO">Outro</option>
              </select>
              <div class="invalid-feedback">
                <span th:errors="*{sexo}"></span>
              </div>
            </div>
            <div class="col" th:if="${type == 'EMPRESA'}">
              <label for="descricao" class="form-label">
                Descrição da empresa
              </label>
              <textarea
                class="form-control"
                id="descricao"
                th:field="*{descricao}"
                th:classappend="${#fields.hasErrors('descricao')} ? 'is-invalid' : ''"
              ></textarea>
              <div class="invalid-feedback">
                <span th:errors="*{descricao}"></span>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col" th:if="${type == 'PROFISSIONAL'}">
              <label for="telefone" class="form-label">Telefone</label>
              <input
                type="text"
                class="form-control"
                id="telefone"
                th:field="*{telefone}"
                th:classappend="${#fields.hasErrors('telefone')} ? 'is-invalid' : ''"
              />
              <div class="invalid-feedback">
                <span th:errors="*{telefone}"></span>
              </div>
            </div>
            <div class="col" th:if="${type == 'PROFISSIONAL'}">
              <label for="dataNascimento" class="form-label">
                Data de nascimento
              </label>
              <input
                type="date"
                class="form-control"
                id="dataNascimento"
                th:field="*{dataNascimento}"
                th:classappend="${#fields.hasErrors('dataNascimento')} ? 'is-invalid' : ''"
              />
              <div class="invalid-feedback">
                <span th:errors="*{dataNascimento}"></span>
              </div>
            </div>
            <div class="col" th:if="${type == 'EMPRESA'}">
              <label for="cidade" class="form-label">Cidade</label>
              <input
                type="text"
                class="form-control"
                id="cidade"
                th:field="*{cidade}"
                th:classappend="${#fields.hasErrors('cidade')} ? 'is-invalid' : ''"
              />
              <div class="invalid-feedback">
                <span th:errors="*{cidade}"></span>
              </div>
            </div>
          </div>
          <input type="hidden" id="id" th:field="*{id}" />
          <div class="d-flex justify-content-center align-items-center pt-3">
            <button class="btn btn-primary" type="submit">
              <span th:text="Cadastrar"></span>
            </button>
          </div>
        </div>
      </form>
    </div>
  </body>
</html>
